<?php $this->title = "Iniciar sesión"; ?>
<div class="w-full max-w-md bg-white rounded-lg shadow-md p-6 mt-16 mx-auto">
    <h2 class="text-2xl font-bold mb-6 text-center">Iniciar sesión</h2>

    <?php
    if (isset($this) && method_exists($this, '__get')) {
        $error = $this->__get('error') ?? '';
        if ($error) {
            echo "<div class='mb-4 p-4 bg-red-100 text-red-700 rounded'>"
                . htmlspecialchars($error)
                . "</div>";
        }
    }
    ?>

    <form method="POST" action="<?= BASE_URL ?>/login" class="space-y-4">
        <div>
            <label class="block text-sm font-medium">Email o usuario</label>
            <input
                type="text"
                name="emailOrUsername"
                required
                class="mt-1 w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>

        <div>
            <label class="block text-sm font-medium">Contraseña</label>
            <input
                type="password"
                name="password"
                required
                class="mt-1 w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>

        <div class="pt-2">
            <button
                type="submit"
                class="w-full bg-yellow-400 text-white py-2 px-4 rounded hover:bg-yellow-500 transition">
                Ingresar
            </button>
        </div>
    </form>

    <p class="mt-6 text-center text-sm">
        ¿No tienes cuenta?
        <a href="<?= BASE_URL ?>/signup" class="text-yellow-600 hover:underline">Registrarse</a>
    </p>
</div>